---
layout: post
title: "Ищем, где и почему production приложение тормозит"
date: 2015-09-26 12:15
meta: true
comments: true
categories: ruby rails performance tips production dashboard new_relic skylight profileit profiling
tags: ruby rails performance tips production dashboard new_relic skylight profileit profiling
---

# Ищем, где и почему production приложение тормозит

## Пару слов обо мне

Меня зовут Андрей. Я пишу на Ruby и не только. Прошел через терни профилирования большого Rails приложения и хочу поделиться с вами опытом. Я буду очень рад, если в рамках этого доклада будет небольшой интерактив с адиторией, то есть с вами.

## О чем я не буду сейчас говорить
Итак, для начала расставим все точки над i.

Я не буду говорить о том

* Как можно профилировать ruby код
* Как можно оптимизировать ваш код
* Ни слова про микрооптимизации
* Как гуглить тоже не буду говорить

Я буду наивно считать, что вы знаете как это делать. Но, если кто-то не знает, то могу пообщаться на эту тему на афтепати. А сейчас включим в себе Шерлока Холмса и начнем раскопки.

## Почему выбирают rails для разработки и как развиваются проекты

"Зачем?" Нет, это не вопрос, зачем я сюда вышел. Этот вопрос в развернутом виде звучит так: "Зачем мы выбираем Ruby on Rails для своего проекта?" Что мы хотим получить, когда выбираем Ruby on Rails для разработки своего проекта?

Какие варианты?

Потому что он на Ruby?

Правильно - Speed!

Только не скорость работы, а скорость разработки. И за это нужно платить.

## Только хардкор

Перед тем, как говорить о том, как и что искать, необходимо вспомнить, а что у нас вообще есть.

### Из чего состоит application

* Backend codebase
  * Application code
  * Rails code
  * Ruby code
* Database (databases?)
  * Database quries
* Network
  * Data flow
* External services
  *
* Frontend code
  * DOM
  * JavaScript
  * CSS

Вот мы выбрали Ruby on Rails. И, как ни странно, независимо от того, что мы выберем, у нас приложение будет состоять из нескольких частей: 
* Backend
* Database
* Frontend
* External services
* Network

За чем из этого нужно следить и что нужно мерить? Что является слабым звеном в вашем проекте? Да все. 
Только вот рядового пользователя это не интересует. Он всегда говорит, что сайт тормозит. Вне зависимости от того, что именно у вас работает не так хорошо, как хотелось бы.

## Что значит "application работает быстро"

  * Это ложь
  * Какие метрики существуют

## Как можно следить за производительностью?

* Dashboard
* Alert monitoring system

## На что обращать внимание?

## Какие инструменты есть

* NewRelic
* Skylight
* Profileit.io

## Общие заблуждения и ложные сигналы

## Когда и, что важно, какие решения стоит принимать.

Флоу профилирования приложения

## Lenshq
